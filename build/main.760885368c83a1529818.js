(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},"5SPi":function(e,t,n){var l=n("mp5j");e.exports=(l.default||l).template({1:function(e,t,n,l,a){var i,o,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="film-item" id=\''+c("function"==typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:s)?o.call(r,{name:"id",hash:{},data:a,loc:{start:{line:2,column:26},end:{line:2,column:32}}}):o)+"'>\r\n"+(null!=(i=u(n,"if").call(r,null!=t?u(t,"backdrop_path"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:3,column:3},end:{line:7,column:7}}}))?i:"")+'    <p class="film-item__rating">'+c("function"==typeof(o=null!=(o=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?o:s)?o.call(r,{name:"vote_average",hash:{},data:a,loc:{start:{line:8,column:33},end:{line:8,column:49}}}):o)+'</p>\r\n    <h2 class="film-item__title">'+c("function"==typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)?o.call(r,{name:"title",hash:{},data:a,loc:{start:{line:9,column:33},end:{line:9,column:42}}}):o)+"</h2>\r\n</li>\r\n"},2:function(e,t,n,l,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <img class="film-item__poster" src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"backdrop_path")||(null!=t?o(t,"backdrop_path"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"backdrop_path",hash:{},data:a,loc:{start:{line:4,column:71},end:{line:4,column:88}}}):i)+'" alt="poster">\r\n'},4:function(e,t,n,l,a){return'     <img class="film-item__poster" src="https://www.incimages.com/uploaded_files/image/1920x1080/getty_525041723_970647970450098_70024.jpg" alt="poster">\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?i:""},useData:!0})},ISqX:function(e,t,n){var l=n("mp5j");e.exports=(l.default||l).template({1:function(e,t,n,l,a){var i,o,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="film-item" id=\''+c("function"==typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:s)?o.call(r,{name:"id",hash:{},data:a,loc:{start:{line:2,column:26},end:{line:2,column:32}}}):o)+"'>\r\n"+(null!=(i=u(n,"if").call(r,null!=t?u(t,"backdrop_path"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:3,column:4},end:{line:7,column:7}}}))?i:"")+'    <p class="film-item__title">'+c("function"==typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)?o.call(r,{name:"title",hash:{},data:a,loc:{start:{line:8,column:32},end:{line:8,column:41}}}):o)+"</p>\r\n</li>\r\n"},2:function(e,t,n,l,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <img class="film-item__poster" src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"backdrop_path")||(null!=t?o(t,"backdrop_path"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"backdrop_path",hash:{},data:a,loc:{start:{line:4,column:71},end:{line:4,column:88}}}):i)+'" alt="poster">\r\n'},4:function(e,t,n,l,a){return'     <img class="film-item__poster" src="https://www.incimages.com/uploaded_files/image/1920x1080/getty_525041723_970647970450098_70024.jpg" alt="poster">\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:10,column:9}}}))?i:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw"),n("Anew"),n("Gyut"),n("RtS0"),n("JBxO"),n("FdtR"),n("3dw1");var l=n("ISqX"),a=n.n(l),i=document.querySelector(".current-page"),o=document.querySelector(".js-films-list");o.classList.add("films-list"),o.classList.add("flex-container");var r=[],s={pageNumber:1,totalPages:0,inputValue:""},c="fa9fa54083c479003851c965e04509d5";function u(e,t,n){r=[{backdrop_path:e,title:t,id:n}],o.insertAdjacentHTML("beforeend",a()(r))}var d=function(e){return void 0===e&&(e=1),fetch("https://api.themoviedb.org/3/movie/popular?api_key="+c+"&language=ru-RU&page="+e).then((function(e){return e.json()})).then((function(e){return s.totalPages=e.total_pages,e.results.forEach((function(e){var t=new Date(e.release_date+" 00:00:00");u(e.backdrop_path,e.title+" ("+t.getFullYear()+")",e.id)})),i.setAttribute("placeholder",s.pageNumber),e})).catch((function(e){return console.log(e)}))};d(s.pageNumber),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=fa9fa54083c479003851c965e04509d5&language=en-US&results=20").then((function(e){return e.json()})).then((function(e){e.genres})).catch((function(e){return console.log(e)}));var p=document.querySelector(".search-film"),m=document.querySelector(".search-film__input"),h=document.querySelector(".btn-prev"),f=document.querySelector(".btn-next"),_=document.querySelector(".pagination"),v=document.querySelector(".page-input"),g=function(e){_.classList.remove("is-hidden"),1===e.page?h.classList.add("is-hidden"):h.classList.remove("is-hidden"),e.page===e.total_pages?f.classList.add("is-hidden"):f.classList.remove("is-hidden")};function y(e){o.innerHTML="",e.results.forEach((function(e){u(e.backdrop_path,e.title,e.id)})),g(e)}function b(e){o.innerHTML="",d(e).then((function(e){g(e)}))}function w(){s.inputValue?L().then((function(e){y(e)})):b(s.pageNumber)}function L(){var e="https://api.themoviedb.org/3/search/movie?query="+s.inputValue+"&page="+s.pageNumber+"&api_key="+c;return fetch(e).then((function(e){return e.json()})).then((function(e){return s.totalPages=e.total_pages,i.setAttribute("placeholder",s.pageNumber),e})).catch("Произошла ошибка")}p.addEventListener("submit",(function(e){e.preventDefault(),s.inputValue=m.value,s.pageNumber=1,o.innerHTML="",s.inputValue?L().then((function(e){if(e.total_pages>1)y(e);else{o.insertAdjacentHTML("beforeend","<h2 class='no-results'>По вашеме запросу ничего не найдено!</h2>"),_.classList.add("is-hidden")}})):b(s.pageNumber)})),v.addEventListener("submit",(function(e){e.preventDefault();var t=Math.abs(parseInt(i.value));t<=s.totalPages?s.pageNumber=t:s.pageNumber=s.totalPages,i.value="",w()})),_.addEventListener("click",(function(e){var t=e.target;"btn-prev"===t.id&&(s.pageNumber-=1,w()),"btn-next"===t.id&&(s.pageNumber+=1,w())}));n("lYjL"),n("IvQZ"),n("4NM0");var k=function(){var e=JSON.parse(localStorage.getItem("filmsQueue")),t=JSON.parse(localStorage.getItem("filmsWatched"));e||(e=[]);var n=e.includes(C.id);t||(t=[]);var l=t.includes(C.id),a=document.querySelector(".details__button-queue"),i=document.querySelector(".details__button-watched");i.addEventListener("click",j),a.addEventListener("click",S),a.innerHTML=n?'<i class="material-icons details__icons">event_busy</i> Delete from queue':'<i class="material-icons details__icons">event_busy</i> Add to queue',i.innerHTML=l?'<i class="material-icons details__icons">videocam</i> Delete from watched':'<i class="material-icons details__icons">videocam</i> Add to watched'},S=function(){var e=JSON.parse(localStorage.getItem("filmsQueue"));e||(e=[]);var t=e.includes(C.id),n=e;t?n=n.filter((function(e){return e!==C.id})):n.push(C.id),localStorage.setItem("filmsQueue",JSON.stringify(n)),k()},j=function(){var e=JSON.parse(localStorage.getItem("filmsWatched"));e||(e=[]);var t=e.includes(C.id),n=e;t?n=n.filter((function(e){return e!==C.id})):n.push(C.id),localStorage.setItem("filmsWatched",JSON.stringify(n)),k()},x=(n("lmye"),n("5SPi")),q=n.n(x),O=document.querySelector(".js-films-list"),M=document.querySelector(".js-btnQueue"),P=document.querySelector(".js-btnWatched"),E=function(e){fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key="+c).then((function(e){return e.json()})).then((function(e){!function(e){var t=[e];O.insertAdjacentHTML("beforeend",q()(t))}(e)}))},N=function(){M.classList.add("btn__active"),P.classList.remove("btn__active");var e=JSON.parse(localStorage.getItem("filmsQueue"));null===e||0===e.length?O.innerHTML='<li class="content__warning__message">You do not have to queue movies to watch. Add them.</li>':(O.innerHTML="",e.map((function(e){return E(e)})))},H=function(){P.classList.add("btn__active"),M.classList.remove("btn__active");var e=JSON.parse(localStorage.getItem("filmsWatched"));null===e||0===e.length?O.innerHTML='<li class="content__warning__message">You do not have watched movies. Add them.</li>':(O.innerHTML="",e.map((function(e){return E(e)})))},T=n("fGTm"),A=n.n(T),C={id:""},I=document.querySelector(".js-films-list"),J=document.querySelector(".search-film"),V=document.querySelector(".library-button"),Q=document.querySelector(".library__btn__wrapper"),D=document.querySelector(".home-button"),W=document.querySelector(".logo"),Y=document.querySelector(".pagination"),z=function(){s.pageNumber=1,s.inputValue="",I.innerHTML="",Y.classList.remove("js-display__none"),Q.classList.add("js-display__none"),J.classList.remove("js-display__none"),d().then((function(e){return g(e)}))};D.addEventListener("click",z),W.addEventListener("click",z);V.addEventListener("click",(function(){I.innerHTML="",J.classList.add("js-display__none"),Q.classList.remove("js-display__none"),Y.classList.add("js-display__none");var e=document.querySelector(".js-btnQueue"),t=document.querySelector(".js-btnWatched");e.addEventListener("click",N),t.addEventListener("click",H),N()}));var B=function(e,t){var n=[e];o.innerHTML=A()(n),k(),function(e){var t=document.querySelector("#trailer");fetch("https://api.themoviedb.org/3/movie/"+e+"/videos?api_key="+c).then((function(e){return e.json()})).then((function(e){var n="https://www.youtube.com/embed/"+e.results[0].key;t.setAttribute("src",n)}))}(t)};o.addEventListener("click",(function(e){var t;e.target.classList.contains("film-item")&&(J.classList.add("js-display__none"),Y.classList.add("js-display__none"),C.id=e.target.getAttribute("id"),t=C.id,fetch("https://api.themoviedb.org/3/movie/"+t+"?api_key="+c).then((function(e){return e.json()})).then((function(e){B(e,t)})))}));var G=document.querySelector(".back_to_top");G.addEventListener("click",(function e(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(e,0))})),window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&G.classList.add("back_to_top-show"),e<t&&G.classList.remove("back_to_top-show")}))},fGTm:function(e,t,n){var l=n("mp5j");e.exports=(l.default||l).template({1:function(e,t,n,l,a){var i,o,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="details details__container">\r\n    <img class="details__img" src="https://image.tmdb.org/t/p/w500'+u(typeof(o=null!=(o=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:s)===c?o.call(r,{name:"poster_path",hash:{},data:a,loc:{start:{line:3,column:66},end:{line:3,column:81}}}):o)+'" alt="foto '+u(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:s)===c?o.call(r,{name:"original_title",hash:{},data:a,loc:{start:{line:3,column:93},end:{line:3,column:111}}}):o)+'">\r\n    <div class="details__content-container">\r\n        <h2 class="details__title">'+u(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:s)===c?o.call(r,{name:"original_title",hash:{},data:a,loc:{start:{line:5,column:35},end:{line:5,column:53}}}):o)+"("+u(typeof(o=null!=(o=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?o:s)===c?o.call(r,{name:"release_date",hash:{},data:a,loc:{start:{line:5,column:54},end:{line:5,column:70}}}):o)+')</h2>\r\n        <ul class="details__list">\r\n            <li class="details__item"><span class="details__characteristic">vote/votes</span><span\r\n                    class="details__description">'+u(typeof(o=null!=(o=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:s)===c?o.call(r,{name:"vote_average",hash:{},data:a,loc:{start:{line:8,column:49},end:{line:8,column:65}}}):o)+"/"+u(typeof(o=null!=(o=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?o:s)===c?o.call(r,{name:"vote_count",hash:{},data:a,loc:{start:{line:8,column:66},end:{line:8,column:80}}}):o)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">popularity</span><span\r\n                    class="details__description">'+u(typeof(o=null!=(o=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?o:s)===c?o.call(r,{name:"popularity",hash:{},data:a,loc:{start:{line:10,column:49},end:{line:10,column:63}}}):o)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">original title</span><span\r\n                    class="details__description">'+u(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:s)===c?o.call(r,{name:"original_title",hash:{},data:a,loc:{start:{line:12,column:49},end:{line:12,column:67}}}):o)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">genre</span>\r\n                <span class="details__description">\r\n'+(null!=(i=d(n,"each").call(r,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:15,column:20},end:{line:17,column:29}}}))?i:"")+'                </span>\r\n            </li>\r\n        </ul>\r\n        <h2 class="details__about">About</h2>\r\n        <p class="details__text-about">'+u(typeof(o=null!=(o=d(n,"overview")||(null!=t?d(t,"overview"):t))?o:s)===c?o.call(r,{name:"overview",hash:{},data:a,loc:{start:{line:22,column:39},end:{line:22,column:51}}}):o)+'</p>\r\n        <div class="details__button-container flex-container">\r\n            <button class="details__button-watched flex-container"><svg aria-hidden="true" focusable="false"\r\n                    data-prefix="fas" data-icon="video" class="svg-inline--fa fa-video fa-w-18" role="img"\r\n                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\r\n                    <path fill="currentColor"\r\n                        d="M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z">\r\n                    </path>\r\n                </svg>Add to watched</button>\r\n            <button class="details__button-queue flex-container"><svg aria-hidden="true" focusable="false"\r\n                    data-prefix="fas" data-icon="calendar-plus" class="svg-inline--fa fa-calendar-plus fa-w-14"\r\n                    role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\r\n                    <path fill="currentColor"\r\n                        d="M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z">\r\n                    </path>\r\n                </svg>Add to queue</button>\r\n        </div>\r\n        <div class="trailer-wrapper">\r\n            <iframe id="trailer" src="#" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\r\n          </div>\r\n    </div>\r\n</li>\r\n'},2:function(e,t,n,l,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <span class="details__description-item">'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"name")||(null!=t?o(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:a,loc:{start:{line:16,column:60},end:{line:16,column:68}}}):i)+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:44,column:9}}}))?i:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.760885368c83a1529818.js.map